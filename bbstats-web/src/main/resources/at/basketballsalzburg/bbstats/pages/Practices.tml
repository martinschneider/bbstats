<html t:type="pageLayout" t:id="pageLayout"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
	xmlns:p="tapestry:parameter">

<t:box t:id="practiceFilterBox">
	<t:form>
		<t:label for="dateFromField" />
		<t:datetimefield t:id="dateFromField" />
		<br />
		<t:label for="dateToField" />
		<t:datetimefield t:id="dateToField" />
		<br />
		<div class="button-bar">
			<t:linksubmit t:id="dateSubmit" class="button-inline">${message:filterPractices}</t:linksubmit>
		</div>
	</t:form>
</t:box>

<t:zone t:id="practiceEditorZone">
	<t:if test="editorVisible">
		<t:box t:id="practiceEditorBox">
			<t:practiceEditor t:id="practiceEditor" practiceParameter="practice" />
		</t:box>
		<p:else>
			<div class="button-bar">
				<t:eventlink t:id="newPractice" class="button-inline">${message:new}</t:eventlink>
			</div>
		</p:else>
	</t:if>
</t:zone>
<t:box t:id="practiceGridBox">
	<t:zone t:id="practiceGridZone">
		<t:grid t:id="practiceGrid">
			<p:dateTimeCell>
				<t:output format="message:dateFormat"
					value="practice.dateTime" />
			</p:dateTimeCell>
			<p:gymCell>${practice.gym.name}, ${practice.gym.city}</p:gymCell>
			<p:playersCell>
				<b>${practice.numberOfPlayers}</b><br/>
				<t:loop source="practice.players" value="player">
            		${player.lastName} ${player.firstName}<br />
				</t:loop>
				<t:if test="practice.guests">${message:guests}: ${practice.guests}</t:if>
			</p:playersCell>
			<p:coachesCell>
				<t:loop source="practice.coaches" value="coach">
            		${coach.lastName} ${coach.firstName}<br />
				</t:loop>
			</p:coachesCell>
			<p:ageGroupsCell>
				<t:loop source="practice.ageGroups" value="ageGroup">
            		${ageGroup.name}<br />
				</t:loop>
			</p:ageGroupsCell>
			<p:editCell>
				<t:eventlink t:id="editPractice" class="edit-item"
					title="${message:edit}" />
			</p:editCell>
			<p:deleteCell>
				<t:eventlink t:id="deletePractice" class="delete-item"
					title="${message:delete}" />
			</p:deleteCell>
		</t:grid>
	</t:zone>
</t:box>
</html>
